<?xml version="1.0"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <groupId>org.ihc.framework</groupId>
    <artifactId>top-level-pom</artifactId>
    <packaging>pom</packaging>
    <version>1.1.7-SNAPSHOT</version>

    <name>Intermountain Healthcare Top Level POM</name>
    <url>http://maven.co.ihc.com/</url>

    <organization>
        <name>Intermountain Healthcare Information Systems</name>
        <url>https://intermountain.net/portal/site/it/</url>
    </organization>
    <properties>
        <organization.logo>http://www.intermountain.net/webassets/images/library/logos/logo_int_gen_162x51.gif</organization.logo>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
    </properties>


    <profiles>
      <profile>
	<id>nexus</id>
	<distributionManagement>
	  <repository>
	    <id>nexus-deploy</id>
	    <name>Intermountain Healthcare Release Repository, Deployment Definition</name>
	    <url>http://artifacts.co.ihc.com/repomgr/content/repositories/releases/</url>
	  </repository>
	  <snapshotRepository>
	    <id>nexus-deploy</id>
	    <name>Intermountain Healthcare Release Repository, Deployment Definition</name>
	    <url>http://artifacts.co.ihc.com/repomgr/content/repositories/snapshots/</url>
	  </snapshotRepository>
	  <site>
	    <id>nexus-deploy</id>
	    <url>dav:http://artifacts.co.ihc.com/repomgr/content/sites/intermountain/</url>
	  </site>
	</distributionManagement>
      </profile>
    

      <profile>
	<id>archiva</id>
	<distributionManagement>
          <repository>
            <id>ihc-deploy</id>
            <name>Intermountain Healthcare Release Repository, Deployment Definition</name>
            <url>file:///usr/local/maven/repos/ihc</url>
          </repository>
          <snapshotRepository>
            <id>ihc-deploy</id>
            <name>Intermountain Healthcare Release Repository, Deployment Definition</name>
            <url>file:///usr/local/maven/repos/ihc</url>
            <uniqueVersion>false</uniqueVersion>
          </snapshotRepository>
	</distributionManagement>
      </profile>

    <profile>
      <id>deprecated</id>
      <activation>
	<file>
          <exists>DEPRECATED</exists>
	</file>
      </activation>
      <build>
	<plugins>
	  <plugin>
	    <artifactId>maven-antrun-plugin</artifactId>
	    <executions>
              <execution>
		<id>generate-resources</id>
		<phase>generate-resources</phase>
		<goals>
		  <goal>run</goal>
		</goals>
		<configuration>
		  <tasks>
		    <echo>${project.description}</echo>
		  </tasks>
		</configuration>
              </execution>

              <execution>
		<id>compile</id>
		<phase>compile</phase>
		<goals>
		  <goal>run</goal>
		</goals>
		<configuration>
		  <tasks>
		    <echo>${project.description}</echo>
		  </tasks>
		</configuration>
              </execution>

              <execution>
		<id>initialize</id>
		<phase>initialize</phase>
		<goals>
		  <goal>run</goal>
		</goals>
		<configuration>
		  <tasks>
		    <echo>${project.description}</echo>
		  </tasks>
		</configuration>
              </execution>

              <execution>
		<id>test</id>
		<phase>test</phase>
		<goals>
		  <goal>run</goal>
		</goals>
		<configuration>
		  <tasks>
		    <echo>${project.description}</echo>
		  </tasks>
		</configuration>
              </execution>

              <execution>
		<id>package</id>
		<phase>package</phase>
		<goals>
		  <goal>run</goal>
		</goals>
		<configuration>
		  <tasks>
		    <echo>${project.description}</echo>
		  </tasks>
		</configuration>
              </execution>

              <execution>
		<id>install</id>
		<phase>install</phase>
		<goals>
		  <goal>run</goal>
		</goals>
		<configuration>
		  <tasks>
		    <echo>${project.description}</echo>
		  </tasks>
		</configuration>
              </execution>

	    </executions>
	  </plugin>
	</plugins>
      </build>
    </profile>


    </profiles>

    <ciManagement>
        <system>bamboo</system>
        <url>https://maven.co.ihc.com/bamboo</url>
    </ciManagement>

    <issueManagement>
        <system>jira</system>
        <url>http://jira.co.ihc.com</url>
    </issueManagement>

    <build>
      <pluginManagement>
	<plugins>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-site-plugin</artifactId>
            <version>3.3</version>
          </plugin>
	</plugins>
      </pluginManagement>
      <plugins> 
	<plugin>
	  <groupId>org.apache.maven.plugins</groupId>
	  <artifactId>maven-release-plugin</artifactId>
	  <version>2.4.1</version>
	  <configuration>
            <goals>clean deploy site-deploy</goals>
            <providerImplementations>
	      <svn>javasvn</svn>
            </providerImplementations>
	  </configuration>
	  <dependencies>
            <dependency>
	      <groupId>com.google.code.maven-scm-provider-svnjava</groupId>
	      <artifactId>maven-scm-provider-svnjava</artifactId>
	    <version>2.0.6</version>
	    <scope>compile</scope>
            </dependency>
	  </dependencies>
	</plugin>
	
	
	<plugin>
	  <artifactId>maven-site-plugin</artifactId>
	  <version>3.3</version>
	</plugin>
	
	<plugin>
          <groupId>org.ihc.mojo</groupId>
          <artifactId>ihc</artifactId>
          <version>1.4.10</version>
          <executions>
            <execution>
              <id>genprops</id>
              <phase>initialize</phase>
              <goals>
                <goal>genprops</goal>
              </goals>
            </execution>
            <execution>
                  <id>site-prepare</id>
                  <phase>post-site</phase>
                  <goals>
                    <goal>site-prepare</goal>
                  </goals>
                </execution>
          </executions>
        </plugin>
	
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-javadoc-plugin</artifactId>
                <configuration>
                  <encoding>UTF-8</encoding>
                </configuration>
                <version>2.6.1</version>
                <executions>
                  <execution>
                    <phase>install</phase>
                    <goals>
                      <goal>jar</goal>
                    </goals>
                  </execution>
                </executions>
        </plugin>
	
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-resources-plugin</artifactId>
          <version>2.4.2</version>
          <configuration>
            <encoding>UTF-8</encoding>
               </configuration>
        </plugin>
	
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-source-plugin</artifactId>
          <version>2.1.1</version>
          <executions>
            <execution>
              <phase>install</phase>
              <goals>
                <goal>jar</goal>
                        </goals>
            </execution>
          </executions>
        </plugin>
	
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-checkstyle-plugin</artifactId>
          <version>2.2</version>
          <dependencies>
            <dependency>
              <groupId>org.ihc.framework</groupId>
              <artifactId>framework-resources</artifactId>
              <version>1.0.0</version>
            </dependency>
          </dependencies>
        </plugin>

            <!-- Left this here as a starting point in case we decide to switch from cobertura to clover
                <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-clover-plugin</artifactId>
                <version>2.4.1</version>
                <configuration>
                <licenseLocation>${clover.licenseLocation}</licenseLocation>
                <excludes>
                <exclude>**/*Test.java</exclude>
                <exclude>**/mock/*</exclude>
                <exclude>**/bean/*</exclude>
                <exclude>**/controller/*</exclude>
                </excludes>
                </configuration>
                <executions>
                <execution>
                <phase>pre-site</phase>
                <goals>
                <goal>instrument</goal>
                </goals>
                </execution>
                </executions>
                </plugin>
            -->

            <plugin>
                <groupId>org.codehaus.mojo</groupId>
                <artifactId>cobertura-maven-plugin</artifactId>
                <version>2.3</version>
                <executions>
                    <execution>
                        <id>clean</id>
                        <goals>
                            <goal>clean</goal>
                        </goals>
                    </execution>
                </executions>
            </plugin>

        </plugins>
      <extensions>
	<extension>
          <groupId>org.apache.maven.wagon</groupId>
          <artifactId>wagon-webdav-jackrabbit</artifactId>
          <version>2.2</version>
	</extension>
      </extensions>
        

    </build>

    <reporting>
        <plugins>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-checkstyle-plugin</artifactId>
                <version>2.2</version>
                <configuration>
                    <configLocation>ihc_checkstyle.xml</configLocation>
                </configuration>
            </plugin>

            <plugin>
                <groupId>org.codehaus.mojo</groupId>
                <artifactId>findbugs-maven-plugin</artifactId>
                <version>2.3.1</version>
            </plugin>
						
						<plugin>
					    <groupId>org.codehaus.mojo</groupId>
					    <artifactId>javancss-maven-plugin</artifactId>
					    <version>2.0</version>
					  </plugin>
						
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-docck-plugin</artifactId>
                <version>1.0</version>
            </plugin>

            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-jxr-plugin</artifactId>
                <version>2.1</version>
            </plugin>
            
            <plugin>
                <groupId>org.codehaus.mojo</groupId>
                <artifactId>cobertura-maven-plugin</artifactId>
                <version>2.3</version>
            </plugin>

            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-surefire-report-plugin</artifactId>
                <version>2.5</version>
            </plugin>
						
						<plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-dependency-plugin</artifactId>
                <version>2.1</version>
                <configuration>
                  <reportSets>
                    <reportSet>
                      <reports>
                        <report>analyze-report</report>
                      </reports>
                    </reportSet>
                  </reportSets>
                </configuration>
						</plugin>
						
						
            <plugin>
                <groupId>org.codehaus.mojo</groupId>
                <artifactId>taglist-maven-plugin</artifactId>
                <version>2.4</version>
                <configuration>
                    <tags>
                        <tag>TODO</tag>
                        <tag>@todo</tag>
                        <tag>FIXME</tag>
                    </tags>
                </configuration>
            </plugin>
            
            <!-- Can't seem to find license file so this was commented out . . . left it here in case we decide to switch back to clover from cobertura
                <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-clover-plugin</artifactId>
                <version>2.4.1</version>
                <configuration>
                <licenseLocation>${clover.licenseLocation}</licenseLocation>
                </configuration>
                </plugin>
            -->
        </plugins>
    </reporting>    
</project>
